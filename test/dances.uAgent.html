<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>dances.dom</title>

	<script type="text/javascript" src="../../dances.amd/dances.amd.js"></script>

	<link rel="stylesheet" type="text/css" href="../../_helper/jasmine/lib/1.3.1/jasmine.css" media="all">
	<script type="text/javascript" src="../../_helper/jasmine/lib/1.3.1/jasmine.js"></script>
	<script type="text/javascript" src="../../_helper/jasmine/lib/1.3.1/jasmine-html.js"></script>

	<script type="text/javascript">
		(function(){
			var jasmineEnv = jasmine.getEnv();
			jasmineEnv.updateInterval = 1000;

			var htmlReporter = new jasmine.HtmlReporter();
//			var htmlReporter = new jasmine.TrivialReporter();

			jasmineEnv.addReporter(htmlReporter);

			jasmineEnv.specFilter = function(spec){
				return htmlReporter.specFilter(spec);
			};

			var currentWindowOnload = window.onload;

/*
			window.onload = function(){
				if(currentWindowOnload){
					currentWindowOnload();
				}
				execJasmine();
			};
*/

			window.execJasmine = function(){
				jasmineEnv.execute();
			};

		})();
	</script>

</head>
<body>
	<script type="text/javascript">
		dances
			.add("../dances.dom.js", function(){
				var _ = dances.uAgent;
				$log(_);

				describe("dances.dom", function(){
					it("brand", function(){
						expect(!!_.whois).toEqual(true);
						$log("brand: " + _.whois);
					});

					it("engine", function(){
						expect(!!_.engine).toEqual(true);
						$log("engine: "+_.engine);
					});

					it("version", function(){
						expect(!!_.ver).toEqual(true);
						$log("verison: "+_.ver);
					});
				});

				describe("detect", function(){
					describe("brand", function(){
						it("firefox", function(){
							expect(!!_.firefox).toEqual(true);
						});
						it("chrome", function(){
							expect(!!_.chrome).toEqual(true);
						});
						it("opera", function(){
							expect(!!_.opera).toEqual(true);
						});
						it("msie", function(){
							expect(!!_.msie).toEqual(true);
						});
						it("safari", function(){
							expect(!!_.safari).toEqual(true);
						});
					});

					describe("engine", function(){
						it("gecko", function(){
							expect(!!_.gecko).toEqual(true);
						});
						it("trident", function(){
							expect(!!_.trident).toEqual(true);
						});
						it("webkit", function(){
							expect(!!_.webkit).toEqual(true);
						});
						it("presto", function(){
							expect(!!_.presto).toEqual(true);
						});
					});

				});

				execJasmine();
			})
		;
	</script>
</body>
</html>